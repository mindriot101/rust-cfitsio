{"version":1,"ops":[{"type":1,"author":{"id":"7b5ccb6b566fbaa2ee316c43550df4b52d0d650c"},"timestamp":1586534732,"metadata":{"github-id":"MDU6SXNzdWU1OTc5NjU1MDg=","github-url":"https://github.com/mindriot101/rust-fitsio/issues/118","origin":"github"},"title":"Support usage under MS Windows 64-bit","message":"Hello,\n\nMany thanks for providing this crate!\nWorks fine under Linux (Fedora x86-64), but it fails when trying to use as a dependency (v. 0.15.0) under MSW 64-bit (MSYS2/MinGW, `rustc` 1.42.0, `cfitsio` 3.450-1):\n```\n   Compiling fitsio v0.15.0\nerror[E0308]: mismatched types\n  --\u003e C:\\Users\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\fitsio-0.15.0\\src\\headers.rs:45:25\n   |\n45 |                         \u0026mut value,\n   |                         ^^^^^^^^^^ expected `i32`, found `i64`\n...\n59 | reads_key_impl!(i64, fits_read_key_lng);\n   | ---------------------------------------- in this macro invocation\n   |\n   = note:    expected raw pointer `*mut i32`\n           found mutable reference `\u0026mut i64`\n\nerror[E0308]: mismatched types\n   --\u003e C:\\Users\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\fitsio-0.15.0\\src\\tables.rs:86:37\n    |\n86  |                             0 =\u003e Ok(out),\n    |                                     ^^^ expected `i64`, found `i32`\n...\n155 | reads_col_impl!(i64, fits_read_col_lng, 0);\n    | ------------------------------------------- in this macro invocation\n    |\n    = note: expected struct `std::vec::Vec\u003ci64\u003e`\n               found struct `std::vec::Vec\u003ci32\u003e`\n\nerror[E0308]: mismatched types\n   --\u003e C:\\Users\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\fitsio-0.15.0\\src\\tables.rs:86:37\n    |\n86  |                             0 =\u003e Ok(out),\n    |                                     ^^^ expected `u64`, found `u32`\n...\n159 | reads_col_impl!(u64, fits_read_col_ulng, 0);\n    | -------------------------------------------- in this macro invocation\n    |\n    = note: expected struct `std::vec::Vec\u003cu64\u003e`\n               found struct `std::vec::Vec\u003cu32\u003e`\n\nerror[E0308]: mismatched types\n   --\u003e C:\\Users\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\fitsio-0.15.0\\src\\tables.rs:140:25\n    |\n105 |             fn read_cell_value\u003cT\u003e(fits_file: \u0026mut FitsFile, name: T, idx: usize) -\u003e Result\u003cSelf\u003e\n    |                                                                                     ------------ expected `std::result::Result\u003ci64, errors::Error\u003e` because of return type\n...\n140 |                         check_status(status).map(|_| out)\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `i64`, found `i32`\n...\n155 | reads_col_impl!(i64, fits_read_col_lng, 0);\n    | ------------------------------------------- in this macro invocation\n    |\n    = note: expected enum `std::result::Result\u003ci64, _\u003e`\n               found enum `std::result::Result\u003ci32, _\u003e`\n\nerror[E0308]: mismatched types\n   --\u003e C:\\Users\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\fitsio-0.15.0\\src\\tables.rs:140:25\n    |\n105 |             fn read_cell_value\u003cT\u003e(fits_file: \u0026mut FitsFile, name: T, idx: usize) -\u003e Result\u003cSelf\u003e\n    |                                                                                     ------------ expected `std::result::Result\u003cu64, errors::Error\u003e` because of return type\n...\n140 |                         check_status(status).map(|_| out)\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `u64`, found `u32`\n...\n159 | reads_col_impl!(u64, fits_read_col_ulng, 0);\n    | -------------------------------------------- in this macro invocation\n    |\n    = note: expected enum `std::result::Result\u003cu64, _\u003e`\n               found enum `std::result::Result\u003cu32, _\u003e`\n\nerror: aborting due to 5 previous errors\n```\n\nIt seems to be an issue with `long` being 32-bit under MSW 64-bit.","files":null}]}